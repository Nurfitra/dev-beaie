(function(){function R(){return"ckeditor";}function b(V){return V.elementMode==3;}function Q(V){return V.name.replace(/\[/,"_").replace(/\]/,"_");}function T(V){return V.container.$;}function c(V){return V.document.$;}function M(V){return V.getSnapshot();}function o(W,V){W.loadSnapshot(V);}function U(Y){var X=j(Y);if(X!=null&&X.tagName=="SPAN"&&X.getAttribute("data-cke-display-name")=="image"){var W=X.getElementsByTagName("IMG");X=null;for(var V=0;V<W.length&&X==null;V++){if(W.item(V).tagName==="IMG"){X=W.item(V);}}}if(X!=null&&X.tagName=="IMG"){return X;}return null;}function j(W){if(W.getSelection()==null){return null;}var V=W.getSelection().getStartElement();if(V&&V.$){return V.$;}return null;}function h(){return CKEDITOR.basePath;}function H(){return a("jsplus_easy_preview");}function a(V){return CKEDITOR.plugins.getPath(V);}function r(){return CKEDITOR.version.charAt(0)=="3"?3:4;}function i(){return"";}function G(X,W){if(r()==3){var V=(W.indexOf("jsplus_easy_preview_")==-1)?("jsplus_easy_preview_"+W):W;if(typeof(X.lang[V])!=="undefined"){return X.lang[V];}else{console.log("(v3) editor.lang['jsplus_easy_preview'] not defined");}}else{if(typeof(X.lang["jsplus_easy_preview"])!=="undefined"){if(typeof(X.lang["jsplus_easy_preview"][W])!=="undefined"){return X.lang["jsplus_easy_preview"][W];}else{console.log("editor.lang['jsplus_easy_preview']['"+W+"'] not defined");}}else{console.log("editor.lang['jsplus_easy_preview'] not defined");}}return"";}function n(W,V){return w(W,"jsplus_easy_preview_"+V);}function w(W,V){var X=W.config[V];return X;}function N(V,W){S("jsplus_easy_preview_"+V,W);}function S(V,W){CKEDITOR.config[V]=W;}function p(X,W){var V=CKEDITOR.dom.element.createFromHtml(W);if(V.type==CKEDITOR.NODE_TEXT){X.insertText(W);}else{X.insertElement(V);}}function z(){return"";}var A=0;var e=1;var J=2;function g(V,Y,W){var X=null;if(W==A){X=CKEDITOR.TRISTATE_DISABLED;}else{if(W==e){X=CKEDITOR.TRISTATE_OFF;}else{if(W==J){X=CKEDITOR.TRISTATE_ON;}}}if(X!=null&&V.ui&&V.ui.get(Y)){V.ui.get(Y).setState(X);}}function x(V,W){V.on("selectionChange",function(X){W(X.editor);});}function K(W,V,X){if(V=="beforeGetOutputHTML"){W.on("toDataFormat",function(Y){return X(W,Y.data.dataValue);},null,null,4);return;}if(V=="keyDown"){W.on("key",(function(){var Z=W;var Y=X;return function(aa){Y(Z,aa.data.keyCode,aa);};})());return;}W.on(V,(function(){var Y=W;return function(){X(Y);};})());}function B(V){V.cancel();}function E(X,V,ab,Z,aa,W,Y){X.addCommand(V,{exec:aa});X.ui.addButton(V,{title:G(X,Z.replace(/^jsplus_/,"")),label:G(X,Z.replace(/^jsplus_/,"")),icon:H()+"icons/"+ab+".png",command:V,className:Y?"jsplus_framework_button":""});}function s(V){return V.mode=="wysiwyg";}function F(W,V,X){if(!(W in CKEDITOR.plugins.registered)){CKEDITOR.plugins.add(W,{icons:W,lang:V,init:function(Y){X(Y);}});}}function C(){JSDialog.Config.skin=null;JSDialog.Config.templateDialog='<div class="jsdialog_plugin_jsplus_easy_preview jsdialog_dlg cke_dialog cke_ltr">'+'<div class="cke_dialog_body">'+'<div class="jsdialog_title cke_dialog_title">'+'<div class="jsdialog_title_text"></div>'+'<a class="jsdialog_x cke_dialog_close_button" href="javascript:void(0)" style="-webkit-user-select: none;">'+'<span class="cke_label">X</span>'+"</a>"+"</div>"+'<div class="jsdialog_content_wrap cke_dialog_contents">'+'<div class="jsdialog_content"></div>'+"</div>"+'<div class="cke_dialog_footer">'+'<div class="jsdialog_buttons cke_dialog_footer_buttons"></div>'+"</div>"+"</div>"+"</div>";JSDialog.Config.templateButton='<a><span class="cke_dialog_ui_button"></span></a>';JSDialog.Config.templateBg='<div class="jsdialog_plugin_jsplus_easy_preview jsdialog_bg"></div>';JSDialog.Config.classButton="cke_dialog_ui_button";JSDialog.Config.classButtonOk="cke_dialog_ui_button_ok";JSDialog.Config.contentBorders=[3,1,15,1,51];if(typeof CKEDITOR.skinName==="undefined"){CKEDITOR.skinName=CKEDITOR.skin.name;}CKEDITOR.skin.loadPart("dialog");embedCssStylesToDoc(document,".jsdialog_plugin_jsplus_easy_preview.jsdialog_bg { background-color: white; opacity: 0.5; position: fixed; left: 0; top: 0; width: 100%; height: 3000px; z-index: 11111; display: none; }"+".jsdialog_plugin_jsplus_easy_preview.jsdialog_dlg { font-family: Arial; padding: 0; position: fixed; z-index: 11112; background-color: white; border-radius: 5px; overflow:hidden; display: none; }"+".jsdialog_plugin_jsplus_easy_preview.jsdialog_show { display: block; }"+".jsdialog_plugin_jsplus_easy_preview .jsdialog_message_contents { font-size: 16px; padding: 10px 0 10px 7px; display: table; overflow: hidden; }"+".jsdialog_plugin_jsplus_easy_preview .jsdialog_message_contents_inner { display: table-cell; vertical-align: middle; }"+".jsdialog_plugin_jsplus_easy_preview .jsdialog_message_icon { padding-left: 100px; min-height: 64px; background-position: 10px 10px; background-repeat: no-repeat; box-sizing: content-box; }"+".jsdialog_plugin_jsplus_easy_preview .jsdialog_message_icon_info { background-image: url(img/info.png); }"+".jsdialog_plugin_jsplus_easy_preview .jsdialog_message_icon_warning { background-image: url(img/warning.png); }"+".jsdialog_plugin_jsplus_easy_preview .jsdialog_message_icon_error { background-image: url(img/error.png); }"+".jsdialog_plugin_jsplus_easy_preview .jsdialog_message_icon_confirm { background-image: url(img/confirm.png); }"+".jsdialog_plugin_jsplus_easy_preview .cke_dialog_contents { margin-top: 0; border-top: none; }"+".jsdialog_plugin_jsplus_easy_preview .cke_dialog_footer div { outline: none; }"+".jsdialog_plugin_jsplus_easy_preview .cke_dialog_footer_buttons > .cke_dialog_ui_button { margin-right: 5px; }"+".jsdialog_plugin_jsplus_easy_preview .cke_dialog_footer_buttons > .cke_dialog_ui_button:last-child { margin-right: 0; }"+".jsdialog_plugin_jsplus_easy_preview .cke_dialog_title { cursor: default; }"+".jsdialog_plugin_jsplus_easy_preview .cke_dialog_contents { padding: 0; }"+".jsdialog_plugin_jsplus_easy_preview .cke_dialog_ui_button { padding: inherit; }"+".jsdialog_plugin_jsplus_easy_preview .cke_dialog_ui_button:hover, .jsdialog_plugin_jsplus_easy_preview .cke_dialog_ui_button:focus { text-decoration: none; }");
}function L(){var V=false;if(V){var Z=window.location.hostname;var Y=0;var W;var X;if(Z.length!=0){for(W=0,l=Z.length;W<l;W++){X=Z.charCodeAt(W);Y=((Y<<5)-Y)+X;Y|=0;}}if(Y!=1548386045){alert(atob("VGhpcyBpcyBkZW1vIHZlcnNpb24gb25seS4gUGxlYXNlIHB1cmNoYXNlIGl0")+"!");return false;}}}function k(){var W=false;if(W){var ac=window.location.hostname;var ab=0;var X;var Y;if(ac.length!=0){for(X=0,l=ac.length;X<l;X++){Y=ac.charCodeAt(X);ab=((ab<<5)-ab)+Y;ab|=0;}}if(ab-1548000045!=386000){var aa=document.cookie.match(new RegExp("(?:^|; )"+"jdm_jsplus_easy_preview".replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));var Z=aa&&decodeURIComponent(aa[1])=="1";if(!Z){var V=new Date();V.setTime(V.getTime()+(30*1000));document.cookie="jdm_jsplus_easy_preview=1; expires="+V.toGMTString();var X=document.createElement("img");X.src=atob("aHR0cDovL2Rva3NvZnQuY29tL21lZGlhL3NhbXBsZS9kLnBocA==")+"?p=jsplus_easy_preview&u="+encodeURIComponent(document.URL);}}}}var q=102;S("jsplus_uploader_url",a("jsplus_uploader")+"uploader.php");N("wrap_min_count",1);N("wrap_template","");if(q==101){N("accept_types","image/*");N("template","<img src='{IMAGE}'/>");}else{if(q==102){N("accept_types","image/*");N("template","<a class='jsplus_preview_href' rel='lightbox' href='{IMAGE}'><img src='{PREVIEW}'/></a>");}else{if(q==103){N("accept_types","");N("template","<div style='display:inline-block'>"+'<img src="{PLUGIN_PATH}img/download.png" style="width:24px;height:24px;margin-right:5px;margin-top:-4px;vertical-align: middle"/>'+"<a class='jsplus_easy_file' style=\"font-size:16px;margin-right:15px;\" href='{FILE}'>Download file</a>"+"</div>");}}}if(q==101||q==102){N("img_width",0);N("img_height",0);N("img_enlarge",false);}if(q==102){N("thumb_width",320);N("thumb_height",240);N("thumb_enlarge",true);}function O(X){var Y=document.getElementById("jsplus_easy_previewForm");if(Y!=null){Y.parentNode.removeChild(Y);}Y=document.createElement("div");Y.id="jsplus_easy_previewForm";Y.setAttribute("style","display:none");var W="";if(n(X,"accept_types").trim().length>0){W=' accept="'+n(X,"accept_types")+'"';}Y.innerHTML='<form enctype="multipart/form-data">'+'<input type="file" name="file" multiple="multiple" id="jsplus_easy_previewFile"'+W+">"+'<input type="submit" id="jsplus_easy_previewSubmit">'+"</form>";document.getElementsByTagName("body")[0].appendChild(Y);var V=document.getElementById("jsplus_easy_previewFile");V.addEventListener("change",(function(){var Z=V;var ab=X;var aa=f(X);return function(){var af=Z.files;d(ab);var ad=af.length;var ah=new Array(ad);var ac=0;for(var ae=0;ae<ad;ae++){var ag=new FormData();ag.append("file",af[ae]);u(ae,ab,aa,ag,function(aj,ak,ai){ah[aj]=ai;ac++;if(ac==ad){y(ak);m(ak,ah);}},function(aj,ak,ai){ah[aj]=ai;ac++;if(ac==ad){y(ak);m(ak,ah);}});}};})());V.click();}function m(Y,Z){var ab=[];var X=[];for(var W=0;W<Z.length;W++){if(Z[W].indexOf("!")===0){ab.push(Z[W].substr(1));}else{X.push(Z[W]);}}if(X.length>0){for(var W=0;W<X.length;W++){D(Y,X[W]);}}if(ab.length>0){for(var W=ab.length-1;W>=1;W--){var aa=true;for(var V=ab.length-2;V>=0;V--){if(ab[V]==ab[W]){aa=false;}}if(!aa){delete ab[V];}}if(ab.length==1){alert("Server returned an error: "+ab[0]);}else{for(var W=0;W<ab.length;W++){ab[W]="- "+ab[W];}alert("Server returned multiple errors: "+ab.join("\n"));}}}function D(X,V){var W=t(X,V);p(X,W);}function t(Z,W){var V=W.substring(W.lastIndexOf("/")+1);var Y=n(Z,"template");if(q==101){Y=Y.replace(/\{IMAGE\}/g,W);Y=Y.replace(/\{FILENAME\}/g,V);return Y;}else{if(q==102){Y=Y.replace(/\{IMAGE\}/g,W);Y=Y.replace(/\{FILENAME\}/g,V);var X=W.split(".");X[X.length-2]+="_small";W=X.join(".");V=W.substring(W.lastIndexOf("/")+1);Y=Y.replace(/\{PREVIEW\}/g,W);Y=Y.replace(/\{FILENAME\}/g,V);return Y;}else{if(q==103){Y=Y.replace(/\{FILE\}/g,W);Y=Y.replace(/\{PLUGIN_PATH\}/g,H());Y=Y.replace(/\{FILENAME\}/g,V);return Y;}}}}function f(Z){var W=w(Z,"jsplus_uploader_url");if(W.indexOf("?")>=0){W+="&";}else{W+="?";}W+="client=plupload&";if(q==101){W+="type=Images";}else{if(q==102){W+="type=Images&makeThumb=true";}else{if(q==103){W+="type=Files";}}}if(q==101||q==102){var X=n(Z,"img_width");var V=n(Z,"img_height");var ac=n(Z,"img_enlarge");if(X>0){W+="&iw="+X;}if(V>0){W+="&ih="+V;}if(ac){W+="&ie=1";}}if(q==102){var Y=n(Z,"thumb_width");var aa=n(Z,"thumb_height");var ab=n(Z,"thumb_enlarge");if(Y>0){W+="&tw="+Y;}if(aa>0){W+="&th="+aa;}if(ab){W+="&te=1";}}return W;}function v(Y,X,V,W){}function I(X,Y){if(typeof(window["jsplus_easy_preview_insert_range"])!="undefined"&&window["jsplus_easy_preview_insert_range"]!=null){var V=window["jsplus_easy_preview_insert_range"];window["jsplus_easy_preview_insert_range"]=null;var ab;if(V.startContainer){ab=V.startContainer;if(ab.nodeType==document.TEXT_NODE){ab=ab.parentNode;}else{if(V.startOffset<ab.childNodes.length){ab=ab.childNodes[V.startOffset];}}}else{ab=V.parentElement();}var aa=window["jsplus_easy_preview_event_target"];if(!ab||aa.nodeName.toLowerCase()=="img"){ab=aa;}var Z=createElementsFromHtml(X);for(var W=0;
W<Z.count;W++){ab.appendChild(Z[W]);}}else{p(Y,X);}}function t(Z,W){var V=W.substring(W.lastIndexOf("/")+1);var Y=n(Z,"template");if(q==101){Y=Y.replace(/\{IMAGE\}/g,W);Y=Y.replace(/\{FILENAME\}/g,V);return Y;}else{if(q==102){Y=Y.replace(/\{IMAGE\}/g,W);Y=Y.replace(/\{FILENAME\}/g,V);var X=W.split(".");X[X.length-2]+="_small";W=X.join(".");V=W.substring(W.lastIndexOf("/")+1);Y=Y.replace(/\{PREVIEW\}/g,W);Y=Y.replace(/\{FILENAME\}/g,V);return Y;}else{if(q==103){Y=Y.replace(/\{FILE\}/g,W);Y=Y.replace(/\{PLUGIN_PATH\}/g,H());Y=Y.replace(/\{FILENAME\}/g,V);return Y;}}}}function d(V){var W=P(V);if(W!=null){if(W.tagName=="IMG"){W.src=W.src.replace(/(mce_)?icons\/jsplus_easy_preview(_3)?(_4\.0)?\.png/,"img/progress.gif");}else{W.style.backgroundImage=W.style.backgroundImage.replace(/(mce_)?icons\/jsplus_easy_preview(_3)?(_4\.0)?\.png/,"img/progress.gif");}}}function y(V){var W=P(V);if(W!=null){if(W.tagName=="IMG"){W.src=W.src.replace(/img\/progress\.gif/,(R()=="tinymce"?"mce_":"")+"icons/jsplus_easy_preview"+z()+".png");}else{W.style.backgroundImage=W.style.backgroundImage.replace(/img\/progress\.gif/,(R()=="tinymce"?"mce_":"")+"icons/jsplus_easy_preview"+z()+".png");}}}function u(W,X,V,ab,aa,Z){var Y;if(window.XMLHttpRequest){Y=new XMLHttpRequest();}else{Y=new ActiveXObject("Microsoft.XMLHTTP");}Y.onreadystatechange=(function(){var ac=X;var ad=W;return function(){if(Y.readyState==4){if(Y.status==200){aa(ad,X,Y.responseText);}else{Z(ad,X,Y.responseText);}}};})();Y.open("POST",V,true);Y.send(ab);}window["jsplus_easy_preview_upload_dropped_files"]=function(X,W,V,Y){window["jsplus_easy_preview_upload_dropped_files_value"]=X;window["jsplus_easy_preview_insert_range"]=V;window["jsplus_easy_preview_event_target"]=Y;for(var Z=0;Z<X.length;Z++){window["jsplus_easy_preview_upl"].addFile(X[Z]);}};function P(V){var X=V.container.$;if(X==null){return null;}var W=X.getElementsByClassName("cke_button__jsplus_easy_preview_icon");if(W.length>0){return W[0];}else{return null;}}CKEDITOR.plugins.add("jsplus_easy_preview",{lang:["en"],init:function(V){V.addCommand("jsplus_easy_preview",{exec:function(W){O(W);}});V.ui.addButton("jsplus_easy_preview",{label:G(V,"jsplus_easy_preview_button_label"),icon:this.path+"icons/jsplus_easy_preview.png",command:"jsplus_easy_preview"});}});})();